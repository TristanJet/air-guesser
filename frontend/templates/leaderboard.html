<link rel="icon" href="{{ url_for('static', filename='img/teamguesser.png')}}" type="image/x-icon">
{% extends "layout.html" %}

{% block title %}TeamGuesser - Leaderboard{% endblock %}

{% block content %}
<div class="leaderboard-container">
    <div class="leaderboard-header">
        <h1> Leaderboard</h1>
        <p class="leaderboard-subtitle">Top players around the world</p>
    </div>

    <!-- Filter Tabs -->
    <div class="filter-tabs">
        <button class="tab-btn active" onclick="">All Time</button>
        <button class="tab-btn" onclick="">This Week</button>
        <button class="tab-btn" onclick="">Today</button>
    </div>

    <!-- Leaderboard Table -->
    <div class="leaderboard-card card">
        <table class="leaderboard-table">
            <thead>
                <tr>
                    <th class="player-col">Player</th>
                    <th class="score-col">Score</th>
                    <th class="games-col">Games</th>
                    <th class="avg-col">Avg</th>
                </tr>
            </thead>
            <tbody id="leaderboardBody">
                {% for player in leaderboard %}
                <tr class="player-row {% if loop.index <= 3 %}top-player{% endif %}">
                    <td class="rank-cell">
                        {% if loop.index == 1 %}
                            <span class="medal gold">ðŸ¥‡</span>
                        {% elif loop.index == 2 %}
                            <span class="medal silver">ðŸ¥ˆ</span>
                        {% elif loop.index == 3 %}
                            <span class="medal bronze">ðŸ¥‰</span>
                        {% else %}
                            <span class="rank-number">{{ loop.index }}</span>
                        {% endif %}
                    </td>
                    <td class="player-cell">
                        <div class="player-info">
                            <div class="player-avatar">{{ player.name[0].upper() }}</div>
                            <span class="player-name">{{ player.name }}</span>
                        </div>
                    </td>
                    <td class="score-cell">
                        <span class="score-value">{{ player.score }}</span>
                    </td>
                    <td class="games-cell">{{ player.games }}</td>
                    <td class="avg-cell">{{ (player.score / player.games)|round(0)|int }}</td>
                </tr>
                {% else %}
                <tr>
                    <td colspan="5" class="empty-state">
                        <div class="empty-message">
                            <div class="empty-icon">ðŸŽ®</div>
                            <p>No scores yet!</p>
                            <p class="empty-subtitle">Be the first to play and make it to the leaderboard</p>
                        </div>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>


    <!-- Action Buttons -->
    <div class="action-buttons">
        <a href="{{ url_for('game') }}" class="btn btn-primary btn-large">
            â–¶ Play Now
        </a>
        <a href="{{ url_for('index') }}" class="btn btn-secondary">
            Back to Home
        </a>
    </div>
</div>
{% endblock %}